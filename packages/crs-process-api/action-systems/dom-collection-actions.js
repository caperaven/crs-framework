class o{static async perform(e,a,t,i){await this[e.action]?.(e,a,t,i)}static async filter_children(e,a,t,i){const r=await crs.process.getValue(e.args.filter,a,t,i);await u(e.args.element,r)}static async toggle_selection(e,a,t,i){const r=await crs.dom.get_element(e.args.target,a,t,i),n=await crs.process.getValue(e.args.multiple||!1,a,t,i),s="aria-selected";if(n!==!0){const l=r.parentElement.querySelector("[aria-selected='true']");if(l===r)return;l?.removeAttribute(s),r.setAttribute(s,!0)}else r.hasAttribute(s)?r.removeAttribute(s):r.setAttribute(s,!0)}static async get_selected_state(e,a,t,i){const r=await crs.dom.get_element(e.args.target,a,t,i),n={};for(const s of r.children)n[s.dataset.value]=s.getAttribute("aria-selected")=="true";return n}}async function u(c,e){c=await crs.dom.get_element(c);const a=e.length>0;for(let t of c.children){if(t.removeAttribute("aria-hidden"),t.tagName=="HR"&&a){t.setAttribute("aria-hidden","true");continue}t.dataset.tags&&a&&t.dataset.tags.indexOf(e)==-1&&t.setAttribute("aria-hidden","true")}}crs.intent.dom_collection=o;export{o as DomCollectionActions};
