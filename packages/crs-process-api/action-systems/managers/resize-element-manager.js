import{getDraggable as n}from"./dragdrop-manager/drag-utils.js";class o{#s;#u;#o;#t;#e;#n;#m;#h;#i;#l;constructor(t,i,e){this.#s=t,this.#u=t.getBoundingClientRect(),this.#o=i,this.#t=e,this.#e=this.#d.bind(this),this.#n=this.#r.bind(this),this.#m=this.#a.bind(this),this.#s.addEventListener("mousedown",this.#e),t.__resizeManager=this}dispose(){this.#s.removeEventListener("mousedown",this.#e),this.#e=null,this.#n=null,this.#m=null,delete this.#s.__resizeManager,this.#s=null,this.#o=null,this.#t=null,this.#u=null}#d(t){const i=n(t,{dragQuery:this.#o});i!=null&&(this.#h=i.parentElement,this.#i=this.#h.getBoundingClientRect(),this.#l={x:t.clientX,y:t.clientY},this.#t.min=this.#t.min||{},this.#t.min.width=this.#t.min.width||this.#i.width,this.#t.min.height=this.#t.min.height||this.#i.height,this.#t.max=this.#t.max||{},this.#t.max.width=this.#t.max.width||Number.MAX_VALUE,this.#t.max.height=this.#t.max.height||Number.MAX_VALUE,document.addEventListener("mousemove",this.#n),document.addEventListener("mouseup",this.#m))}#r(t){let i=t.clientX-this.#l.x,e=t.clientY-this.#l.y;this.#t.lock_axis=="x"&&(e=0),this.#t.lock_axis=="y"&&(i=0);let s=this.#i.width+i-4,h=this.#i.height+e-4;s=s<this.#t.min.width?this.#t.min.width:s>this.#t.max.width?this.#t.max.width:s,h=h<this.#t.min.height?this.#t.min.height:h>this.#t.max.height?this.#t.max.height:h,this.#h.style.width=`${s}px`,this.#h.style.height=`${h}px`}#a(t){document.removeEventListener("mousemove",this.#n),document.removeEventListener("mouseup",this.#m),this.#h=null,this.#i=null,this.#l=null}}export{o as ResizeElementManager};
