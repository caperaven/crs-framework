import{getQueries as m}from"./utils/get-queries.js";class b{async onEvent(n,p,e,u){for(const l of e.queries){const o=l=="this"?u:u.getRootNode().querySelector(l);for(const a of e.attributes){const r=a.split(":"),s=r[0];let t=r[1];if(t==null){o.toggleAttribute(s);continue}const i=o.getAttribute(s);if(i==null){o.setAttribute(s,t);continue}const c=i==="true";o.setAttribute(s,!c)}}}async parse(n,p){const e=n.ownerElement,l=n.name.split(".")[0];crs.binding.utils.markElement(e,p);const o=e.__uuid,a=n.value.replace(")","").split("("),r=a[1].split(",").map(t=>t.trim().replaceAll("'",""));for(let t=0;t<r.length;t++){let i=r[t];if(i.indexOf("=")!=-1){const c=i.split("=");i=`${c[0]}:${c[1].replaceAll("'","")}`,r[t]=i}}const s={provider:".attr.toggle",attributes:r};m(a[0],s),crs.binding.eventStore.register(l,o,s),e.__events||=[],e.__events.push(l),e.removeAttribute(n.name)}async clear(n){crs.binding.eventStore.clear(n)}}export{b as default};
