<style>
    @import "/styles/lib/narrow-scrollbar.css";
    :host {
        --icon-font: "";
        --height: 100%;

        display: flex;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        z-index: 999999;
        user-select: none;
    }

    .back {
        width: 100%;
        height: 100%;
        background: #000000;
        opacity: 0.25;
        position: absolute;
    }

    .popup {
        bottom: 0;
        margin: 0;
        border: var(--border);
        background: var(--grey-surface);
        display: grid;
        grid-template-rows: auto 1fr;
        width: 20rem;
        height: 20rem;
        border-radius: var(--radius);
        z-index: 1;
        position: relative;
    }

    ul {
        position: relative;
        margin: 0;
        padding: 0;
        list-style: none;
        background: var(--window);
    }

    ul[role="menu"] {
        overflow: auto;
    }

    hr {
        border: var(--border);
    }

    li {
        --cl-icon: black;
        padding: 0.5rem;
        position: relative;
        display: flex;
        align-items: center;
        cursor: pointer;
        user-select: none;
    }

    li > *:not(ul) {
        pointer-events: none;
    }

    li[hidden] {
        display: none;
    }

    li:hover {
        background: var(--cl-li-hover)
    }

    li[data-icon]::before {
        content: attr(data-icon);
        font-family: var(--icon-font);
        font-size: 1.5rem;
        margin-right: var(--padding);
        color: var(--cl-icon);
    }

    li[aria-selected="true"]::after {
        content: "check";
        font-family: crsfrw;
        position: absolute;
        right: 8px;
        color: var(--blue);
    }

    [aria-hidden="true"] {
        display: none !important;
    }

    filter-header {
        --close-display: inline-block;
    }

    .submenu {
        position: absolute;
        top: 0;
        left:0;
        right: 0;
        bottom: 0;
        display: none;
        border: var(--border);
        background: var(--window);
        width: 100%;
        height: 100%;
    }

    .parent-menu-item[aria-expanded="true"] > .submenu {
        display: block;
        z-index: 1;
        width: 20rem;
        height: 25rem;
        border: none;
    }

    .parent-menu-item[aria-expanded="true"] > .submenu > li {
        width: 19rem;
    }

    .parent-menu-item:after {
        font-family: var(--icon-font);
        font-size: 1.5rem;
        content: "chevron-right";
        position: absolute;
        right: var(--padding);
        top: 0;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #btnBack {
        font-family: var(--icon-font);
        font-size: 1.5rem;
        height: 2.5rem;
        width: 2.5rem;
        padding: 0;
        display: none;
        border: none;
        border-bottom: var(--border);
        border-right: var(--border);
    }

    #btnBack.visible {
        display: block;
    }

    .toolbar {
        display: flex;
        flex-direction: row;
        height: 2.5rem;
    }
    .no-overflow {
        overflow: hidden!important;
    }

</style>


<div class="back"></div>
<div class="popup" ref="popup">
    <div class="toolbar">
        <button id="btnBack" ref="btnBack">chevron-left</button>
        <filter-header for="ul"></filter-header>
    </div>
    <ul ref="container" role="menu" tabindex="0" class="narrow-scrollbar"></ul>
</div>