<style>
    * {
        box-sizing: border-box;
    }

    :host {
        --size: 3rem;
        --text-size: 1.0625rem;
        --margin-size: 0.59rem;

        display: grid;
        grid-template-rows: auto 1fr;
        width: 27rem;
        height: 27rem;
        margin: 3rem;
        box-shadow: var(--grey-s2) 0 0.125rem 0.5rem 0;
        border: var(--border);
        border-radius: 3%;
        outline: none;
    }

    #calendar-toolbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 5rem;
        padding: var(--padding);
    }

    #calendar-toolbar #previous-month, #next-month {
        background: transparent;
        width: var(--size);
        height: var(--size);
        font-size: 1.875rem;
        font-weight: bold;
        cursor: pointer;
        border: none;
    }

    #calendar-toolbar #previous-month {
        margin-left: var(--margin-size);
    }

    #calendar-toolbar #next-month {
        margin-right: var(--margin-size);
    }

    #calendar-toolbar #month, #year {
        background: transparent;
        height: var(--size);
        text-align: center;
        font-size: var(--text-size);
        font-weight: bold;
        cursor: pointer;
        border-radius: var(--radius);
        border: none;
    }

    #calendar-toolbar #year {
        width: 5rem;
    }

    #calendar-toolbar #month{
        width: 7rem;
    }

    .current-view {
        color: var(--cl-primary-alt);
        background: var(--blue) !important;
    }

    #chevron-right, #chevron-left{
        width: 24px;
        height: 24px;
        rotate: 90deg;
    }

</style>

<svg style="display: none" viewBox="0 0 24 24">
    <symbol id="chevron-up" width="24" height="24">
        <path d="M7.14541 15.6446L12.0063 10.9309L16.8671 15.6446C17.3557 16.1185 18.145 16.1185 18.6336 15.6446C19.1221 15.1708 19.1221 14.4055 18.6336 13.9317L12.8832 8.35535C12.3946 7.88155 11.6054 7.88155 11.1168 8.35535L5.36644 13.9317C4.87785 14.4055 4.87785 15.1708 5.36644 15.6446C5.85503 16.1063 6.65682 16.1185 7.14541 15.6446Z" fill="#272C37"/>
    </symbol>

    <symbol id="chevron-down" width="24" height="24">
        <path d="M7.14541 8.35535L12.0063 13.0691L16.8671 8.35535C17.3557 7.88155 18.145 7.88155 18.6336 8.35535C19.1221 8.82916 19.1221 9.59453 18.6336 10.0683L12.8832 15.6446C12.3946 16.1185 11.6054 16.1185 11.1168 15.6446L5.36644 10.0683C4.87785 9.59453 4.87785 8.82916 5.36644 8.35535C5.85503 7.8937 6.65682 7.88155 7.14541 8.35535Z" fill="#272C37"/>
    </symbol>
</svg>

<template id="tplCell">
    <div role="cell" data-date="${date}" classlist.case="current == false: 'non-current-day', new Date().toLocaleDateString() == date.toLocaleDateString(): 'today'">${number}</div>
</template>

<div id="calendar-toolbar" role="toolbar">
    <button id="previous-month" aria-label="previous month button" click.call="goToPreviousMonth"><svg id="chevron-left"><use href="#chevron-down"></use></svg></button>
    <button id="month" value="months" click.setValue="selectedView = selectedView === 'months' ? 'default' : 'months'" classlist.if="selectedView == 'months' ? 'current-view'">${month}</button>
    <button id="year" value="years" click.setValue="selectedView = selectedView === 'years' ? 'default' : 'years'" classlist.if="selectedView == 'years' ? 'current-view'">${year}</button>
    <button id="next-month" aria-label="next month button" click.call="goToNextMonth"><svg id="chevron-right"><use href="#chevron-up"></use></svg></button>
</div>

<perspective-element view.bind="selectedView" ctx.once="contextId" data-folder="/components/calendar/" view-loaded.call="viewLoaded">
    <template data-id="default" data-default="true">
        <template src="./templates/days.html"></template>
    </template>
    <template data-id="months">
        <template src="./templates/months.html"></template>
    </template>
    <template data-id="years">
        <template src="./templates/years.html"></template>
    </template>
</perspective-element>